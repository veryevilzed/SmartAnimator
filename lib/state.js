'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _lodash=require('lodash');var _lodash2=_interopRequireDefault(_lodash);var _parallel=require('./parallel.js');var _parallel2=_interopRequireDefault(_parallel);var _animation=require('./animation.js');var _animation2=_interopRequireDefault(_animation);var _animator=require('./animator.js');var _animator2=_interopRequireDefault(_animator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var State=function(){function State(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var obj=arguments[1];_classCallCheck(this,State);this.states=_lodash2.default.reduce(params,function(res,value,key){if(value instanceof _parallel2.default||value.params){res[key]=value;}else{if(value.animators){res[key]=new _parallel2.default(value,obj);}else if(value.animations){res[key]=new _animator2.default(value,obj);}else if(value.state){res[key]=new _animation2.default(obj,{from:value.state});}}return res;},{});this.current=undefined;this.state=null;}_createClass(State,[{key:'change',value:function change(name){if(!this.states[name]){return this;}if(this.state&&this.state.run){this.state.stop();}this.state=this.states[name];this.state.start();this.current=name;return this;}},{key:'update',value:function update(df){if(this.state){this.state.update(df);}}}]);return State;}();exports.default=State;module.exports=exports['default'];